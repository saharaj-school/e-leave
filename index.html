<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏π</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="spinner"></div>
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <div class="login-header">
                <h1>üè´ ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏π</h1>
                <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="loginEmail" required placeholder="example@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="loginPassword" required placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
                </div>
                <button type="submit" class="btn btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </form>
            <div class="login-footer">
                <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏π‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="appScreen" class="screen" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1>üè´ ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏π</h1>
                <div class="user-info">
                    <span id="userName">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                    <span id="userRole" class="role-badge">‡∏Ñ‡∏£‡∏π</span>
                    <button id="logoutBtn" class="btn btn-secondary">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="leave-balance">‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</button>
            <button class="nav-tab" data-tab="request-leave">‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</button>
            <button class="nav-tab" data-tab="my-requests">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</button>
            <button class="nav-tab" data-tab="pending-approvals" id="approvalsTab" style="display: none;">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
            <button class="nav-tab" data-tab="import-users" id="importTab" style="display: none;">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Leave Balance Tab -->
            <div id="leave-balance" class="tab-content active">
                <h2>‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ <span id="currentYear"></span></h2>
                <div class="balance-cards">
                    <div class="balance-card">
                        <div class="balance-icon">üèñÔ∏è</div>
                        <h3>‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</h3>
                        <div class="balance-number" id="annualBalance">0</div>
                        <p>‡∏ß‡∏±‡∏ô</p>
                    </div>
                    <div class="balance-card">
                        <div class="balance-icon">ü§í</div>
                        <h3>‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</h3>
                        <div class="balance-number" id="sickBalance">0</div>
                        <p>‡∏ß‡∏±‡∏ô</p>
                    </div>
                    <div class="balance-card">
                        <div class="balance-icon">üìã</div>
                        <h3>‡∏•‡∏≤‡∏Å‡∏¥‡∏à</h3>
                        <div class="balance-number" id="personalBalance">0</div>
                        <p>‡∏ß‡∏±‡∏ô</p>
                    </div>
                    <div class="balance-card">
                        <div class="balance-icon">üë∂</div>
                        <h3>‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î</h3>
                        <div class="balance-number" id="maternityBalance">90</div>
                        <p>‡∏ß‡∏±‡∏ô</p>
                    </div>
                </div>

                <!-- Leave Summary -->
                <div class="summary-section">
                    <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ</h3>
                    <div id="leaveSummary" class="summary-grid">
                        <div class="summary-item">
                            <span>‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏≤‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:</span>
                            <strong id="totalUsed">0 ‡∏ß‡∏±‡∏ô</strong>
                        </div>
                        <div class="summary-item">
                            <span>‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥:</span>
                            <strong id="totalPending">0 ‡∏ß‡∏±‡∏ô</strong>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Request Leave Tab -->
            <div id="request-leave" class="tab-content">
                <h2>‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</h2>
                <div class="notice-box" id="leaveNotice">
                    <strong>üìå ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong>
                    <ul>
                        <li>‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 3 ‡∏ß‡∏±‡∏ô</li>
                        <li>‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô 08:00 ‡∏ô. ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô</li>
                        <li>‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</li>
                    </ul>
                </div>
                
                <form id="leaveRequestForm" class="leave-form">
                    <div class="form-group">
                        <label for="leaveType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤ *</label>
                        <select id="leaveType" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏≤ --</option>
                            <option value="annual">‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</option>
                            <option value="sick">‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</option>
                            <option value="personal">‡∏•‡∏≤‡∏Å‡∏¥‡∏à</option>
                            <option value="maternity">‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="startDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô *</label>
                            <input type="date" id="startDate" required>
                        </div>
                        <div class="form-group">
                            <label for="endDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î *</label>
                            <input type="date" id="endDate" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="totalDays">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô</label>
                        <input type="number" id="totalDays" readonly value="0">
                    </div>

                    <div class="form-group">
                        <label for="reason">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤ *</label>
                        <textarea id="reason" required rows="4" placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="contactDuringLeave">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏Ç‡∏ì‡∏∞‡∏•‡∏≤</label>
                        <textarea id="contactDuringLeave" rows="2" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</button>
                        <button type="button" id="resetForm" class="btn btn-secondary">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
                    </div>
                </form>
            </div>

            <!-- My Requests Tab -->
            <div id="my-requests" class="tab-content">
                <h2>‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
                <div class="filter-section">
                    <select id="statusFilter">
                        <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                        <option value="pending">‡∏£‡∏≠‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</option>
                        <option value="approved">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</option>
                        <option value="rejected">‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</option>
                    </select>
                </div>
                <div id="requestsList" class="requests-list">
                    <div class="empty-state">
                        <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</p>
                    </div>
                </div>
            </div>

            <!-- Pending Approvals Tab (Manager Only) -->
            <div id="pending-approvals" class="tab-content">
                <h2>‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</h2>
                <div id="pendingList" class="requests-list">
                    <div class="empty-state">
                        <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</p>
                    </div>
                </div>
            </div>

            <!-- Import Users Tab (Admin Only) -->
            <div id="import-users" class="tab-content">
                <h2>‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π</h2>
                <div class="import-section">
                    <div class="info-box">
                        <h3>üìã ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå CSV</h3>
                        <p>‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:</p>
                        <code>name,email,password,position,department</code>
                        <p><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong></p>
                        <code>‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ,<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="691a06040a010800291a0a0106060547080a471d01">[email&#160;protected]</a>,password123,‡∏Ñ‡∏£‡∏π,‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</code>
                        <button id="downloadTemplate" class="btn btn-secondary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
                    </div>

                    <div class="upload-section">
                        <input type="file" id="csvFile" accept=".csv" style="display: none;">
                        <button id="selectFile" class="btn btn-primary">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå CSV</button>
                        <span id="fileName" class="file-name"></span>
                        <button id="importUsers" class="btn btn-success" disabled>‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    </div>

                    <div id="importResults" class="import-results"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal for Approval -->
    <div id="approvalModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</h2>
            <div id="modalRequestDetails"></div>
            <div class="form-group">
                <label for="reviewComment">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                <textarea id="reviewComment" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥)..."></textarea>
            </div>
            <div class="modal-actions">
                <button id="approveBtn" class="btn btn-success">‚úì ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
                <button id="rejectBtn" class="btn btn-danger">‚úó ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
                <button id="cancelBtn" class="btn btn-secondary">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div i
